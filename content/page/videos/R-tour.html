---
title: "Welcome to R"
output: 
  blogdown::html_page: 
    highlight: tango
    css: css/camp_style.css
    number_sections: true
    self_contained: false
    fontsize: 18pt
    monofont: Source Code Pro
    toc: true
    toc_depth: 1
---

<script src="/rmarkdown-libs/clipboard/clipboard.min.js"></script>
<link href="/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
<link href="/rmarkdown-libs/font-awesome/css/all.css" rel="stylesheet" />
<link href="/rmarkdown-libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
  <link rel="stylesheet" href="css/camp_style.css" type="text/css" />

<div id="TOC">
<ul>
<li><a href="#rstudio-tour" id="toc-rstudio-tour"><span class="toc-section-number">1</span> RStudio Tour</a></li>
</ul>
</div>

<p><img src="../images/day1_bb8_sq.png" style="float: right; margin-right: 0; width: 260px; margin-top: -287px;" /></p>
<div style="clear: both;">

</div>
<p><br></p>
<div id="rstudio-tour" class="section level1" number="1">
<h1><span class="header-section-number">1</span> RStudio Tour</h1>
<hr>
<p><img src="../images/rstudio.png" style="width: 85%;" /></p>
<p><br></p>
<div id="code-editor" class="section level3 unnumbered red-note" style="float: left; width: 54%; height: 384px;">
<h3><em>1.</em> Code Editor</h3>
<p>This is where you write your scripts and document your work. Move your cursor to a line of code and then click <code>[Ctrl] + [Enter]</code> to run the code. The tabs at the top of the code editor show the scripts and data sets you have open. The script is your home and where we spend most of our time.</p>
</div>
<div id="workspace" class="section level3 unnumbered red-note" style="float: left; width: 45%; height: 384px; margin-left: 1%;">
<h3><em>3.</em> Workspace</h3>
<p>This pane shows all of the objects and functions that you have created, as well as a history of the code you have run during your current session. The environment tab shows all of your objects and functions. The history tab shows the code you have run. Note the <em>broom</em> icon below the Connections tab. This cleans shop and allows you to clear all of the objects in your workspace.</p>
</div>
<div style="clear: both; margin-bottom: -4px;">

</div>
<div id="r-console" class="section level3 unnumbered red-note" style="float: left; width: 54%; height: 510px; margin-top: 0;">
<h3><em>2.</em> R Console</h3>
<p>This is where code is actually executed by the computer. It shows code that you have run and the messages returned by that code. You can input code directly into the console and run it, but it won’t be saved for later. That’s why we usually run our code directly from a script in the code editor.</p>
<p>You may see some <em>scary</em> warnings and errors appear here after running code. <strong>Warnings</strong> are helpful messages that let you know the results may not be exactly what you expected. <strong>Errors</strong> on the other hand, mean the code was unable to run. Usually this means there was a typo, or we forgot to run an important step higher up in our script.</p>
</div>
<div id="plots-and-files" class="section level3 unnumbered red-note" style="float: left; width: 45%; height: 510px; margin-left: 1%; margin-top: 0;">
<h3><em>4.</em> Plots and files</h3>
<p>These tabs allow you to view and open files in your current directory, view plots and other visual objects like maps, view your installed packages, and access the help window.</p>
<p>The <code>Files</code> tab is especially handy for finding a file you want and clicking it to open it. You can also click the <code>More</code> option and select <em>“Show Folder in a New Window”</em> as a shortcut to open your project folder.</p>
</div>
<div style="clear: both;">

</div>
<div id="customize-r-studio" class="section level2 unnumbered">
<h2>Customize R Studio</h2>
<p>Let’s add a little style.</p>
<p><strong>Here’s how to change the font and color theme</strong></p>
<ol style="list-style-type: decimal">
<li>Go to <strong>Tools</strong> on the top navigation bar.</li>
<li>Choose <code>Global Options...</code></li>
<li>Choose <code>Appearance</code> with the paint bucket.</li>
<li>Increase the <code>Editor Font size</code></li>
<li>Pick an Editor theme you like.
<ul>
<li>The default is <code>Textmate</code> if you want to go back</li>
</ul></li>
</ol>
<p><img src="../images/font_change.png" style="width: 65%; margin-top: 14px; margin-left: 2%;"></p>
</div>
<div id="example-r-project" class="section level2 unnumbered">
<h2>Example R project</h2>
<p>Here’s an example R analysis project from start to finish using Ozone monitoring data.</p>
<details>
<summary class="btn_code_blue .btn_gray">
<strong>EXAMPLE ANALYSIS</strong> <strong>&gt;</strong>
</summary>
<div class="quiz" style="margin-top: 0; background-color: white;">
<p>Imagine we just received 3 years worth of ozone monitoring data to summarize. <strong>Fun!</strong></p>
<p>Below is an example workflow we might follow in R.</p>
<ol style="list-style-type: decimal">
<li>Create a new project</li>
<li>Read the data</li>
<li>Simplify columns</li>
<li>Plot the data</li>
<li>Clean the data</li>
<li>View the data closer</li>
<li>Summarize the data</li>
<li>Save the results</li>
<li><strong>Share</strong> with friends</li>
</ol>
<div id="start-a-new-project" class="section level3 unnumbered">
<h3>0. Start a new project</h3>
<p>We’ll name this project: <code>"2019_Ozone"</code></p>
</div>
<div id="read-the-data" class="section level3 unnumbered">
<h3>1. Read the data</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># Read a file from the web</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>air_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://itep-r.netlify.com/data/OZONE_samples_demo.csv&quot;</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">SITE</th>
<th align="left">Date</th>
<th align="right">OZONE</th>
<th align="right">TEMP_F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="left">2017-04-24</td>
<td align="right">11</td>
<td align="right">35.6</td>
</tr>
<tr class="even">
<td align="left">27-137-7001</td>
<td align="left">2017-04-12</td>
<td align="right">12</td>
<td align="right">42.8</td>
</tr>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="left">2016-06-21</td>
<td align="right">11</td>
<td align="right">72.2</td>
</tr>
<tr class="even">
<td align="left">27-137-7001</td>
<td align="left">2016-10-04</td>
<td align="right">4</td>
<td align="right">42.8</td>
</tr>
<tr class="odd">
<td align="left">27-137-7554</td>
<td align="left">2017-06-11</td>
<td align="right">14</td>
<td align="right">68.6</td>
</tr>
</tbody>
</table>
</div>
<div id="simplify-column-names" class="section level3 unnumbered">
<h3>2. Simplify column names</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co"># Capital letters and spaces make things more difficult</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># Let&#39;s clean them out</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>air_data <span class="ot">&lt;-</span> <span class="fu">clean_names</span>(air_data)</span></code></pre></div>
</div>
<div id="plot-the-data" class="section level3 unnumbered">
<h3>3. Plot the data</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">ggplot</span>(air_data, <span class="fu">aes</span>(<span class="at">x =</span> temp_f, <span class="at">y =</span> ozone)) <span class="sc">+</span> </span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="/page/videos/R-tour_files/figure-html/view-1.png" width="1152" /></p>
</div>
<div id="clean-the-data" class="section level3 unnumbered">
<h3>4. Clean the data</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># Drop values out of range</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>air_data <span class="ot">&lt;-</span> air_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ozone <span class="sc">&gt;</span> <span class="dv">0</span>, temp_f <span class="sc">&lt;</span> <span class="dv">199</span>) </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co"># Convert all samples to PPB</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>air_data <span class="ot">&lt;-</span> air_data <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">OZONE =</span> <span class="fu">ifelse</span>(units <span class="sc">==</span> <span class="st">&quot;PPM&quot;</span>, ozone <span class="sc">*</span> <span class="dv">1000</span>, </span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>                                  ozone)) </span></code></pre></div>
</div>
<div id="view-the-data-closer" class="section level3 unnumbered">
<h3>5. View the data <strong>closer</strong></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">ggplot</span>(air_data, <span class="fu">aes</span>(<span class="at">x =</span> temp_f, <span class="at">y =</span> ozone)) <span class="sc">+</span> </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> </span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>site) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ozone increases with temperature&quot;</span>, </span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">&quot;Observations from 2015-2017&quot;</span>)</span></code></pre></div>
<p><img src="/page/videos/R-tour_files/figure-html/unnamed-chunk-1-1.png" width="1152" /></p>
</div>
<div id="summarize-the-data" class="section level3 unnumbered">
<h3>6. Summarize the data</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>air_data <span class="ot">&lt;-</span> air_data <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>            <span class="fu">group_by</span>(site, year) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>            <span class="fu">summarize</span>(<span class="at">avg_ozone =</span> <span class="fu">mean</span>(ozone) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>),</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>                      <span class="at">avg_temp  =</span> <span class="fu">mean</span>(temp_f) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">site</th>
<th align="right">year</th>
<th align="right">avg_ozone</th>
<th align="right">avg_temp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="right">2016</td>
<td align="right">11.01</td>
<td align="right">60.74</td>
</tr>
<tr class="even">
<td align="left">27-137-7001</td>
<td align="right">2017</td>
<td align="right">11.26</td>
<td align="right">60.66</td>
</tr>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="right">2018</td>
<td align="right">11.54</td>
<td align="right">60.59</td>
</tr>
<tr class="even">
<td align="left">27-137-7554</td>
<td align="right">2016</td>
<td align="right">12.23</td>
<td align="right">61.23</td>
</tr>
<tr class="odd">
<td align="left">27-137-7554</td>
<td align="right">2017</td>
<td align="right">11.81</td>
<td align="right">60.98</td>
</tr>
<tr class="even">
<td align="left">27-137-7554</td>
<td align="right">2018</td>
<td align="right">12.87</td>
<td align="right">61.02</td>
</tr>
</tbody>
</table>
</div>
<div id="save-the-results" class="section level3 unnumbered">
<h3>7. Save the results</h3>
<p><strong>Save the data table</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>air_data <span class="sc">%&gt;%</span> <span class="fu">write_csv</span>(<span class="st">&quot;results/2015_2017_ozone_summary.csv&quot;</span>)</span></code></pre></div>
<p><br></p>
<p><strong>Save the site plot to PDF</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;results/2015_2017-Ozone vs Temp.pdf&quot;</span>)</span></code></pre></div>
</div>
<div id="share-with-friends" class="section level3 unnumbered">
<h3>8. Share with friends</h3>
<p><a href = "https://github.com/dKvale/ex__OZONE__Project">
<img src="../images/github_example_ozone.png" style="width: 95%;" />
</a></p>
<br>
<div class="well">
<p>Having an exact record of your analysis is great documentation for yourself and others. It’s also handy when you want to repeat the same analysis on new data. Then you only need to copy the script, update the read data line, and push run to get a whole new set of fancy charts.</p>
</div>
</div>
</div>
</details>
<p><br></p>
<p><br></p>
</div>
<div id="youre-on-the-team" class="section level2 unnumbered">
<h2>You’re on the TEAM!</h2>
<p>Rey needs help putting the finishing touches on her ship.</p>
<p><strong>Let’s go! Data awaits us…</strong></p>
<p><img src="../images/rey_bb8_sand_dunes.gif" style="width: 70%; margin-left: 10%;" /></p>
<p><br></p>
<div class="well">
<p>While BB8 tracks down data from his scrapyard friends, we’ll prepare for some garbage data.</p>
<p>Let’s get to know R and RStudio.</p>
</div>
<p><br></p>
<div id="return-to-homebase" class="section level3 unnumbered">
<h3><i class="fa fa-rocket" aria-hidden="true"></i> Return to <a href="../post/day-1.html">Homebase</a></h3>
<p><br></p>
</div>
</div>
</div>
