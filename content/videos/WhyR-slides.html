---
title: "Why R?"
output: 
  xaringan::moon_reader:
    self_contained: true
    lib_dir: libs
    chakra: libs/remark-latest.min.js
    css: css/camp_style.css
    seal: false
    toc: false
    number_sections: true
    fontsize: 18pt
    monofont: Source Code Pro
    includes: 
      in_header: header.html
    nature:
      slideNumberFormat: ""
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: 16:9
---

<script src="/rmarkdown-libs/clipboard/clipboard.min.js"></script>
<link href="/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="/rmarkdown-libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
<link href="/rmarkdown-libs/font-awesome/css/all.css" rel="stylesheet" />
<link href="/rmarkdown-libs/font-awesome/css/v4-shims.css" rel="stylesheet" />


<div style="clear: both;">

</div>
<p><br></p>
<div id="we-r-growing" class="section level1 unnumbered">
<h1>We R growing</h1>
<hr class="hr2">
<p><img src="../images/rladies_map.gif" style="width: 97%;" /></p>
<div id="r-community" class="section level2 unnumbered">
<h2>R Community</h2>
<ul>
<li><a href="https://mn-r.netlify.app/page/community.html">Around the world</a></li>
<li>Help!
<ul>
<li>Post questions and help requests on Teams</li>
<li><a href="https://www.rstudio.com/resources/cheatsheets/">R Cheatsheets</a></li>
<li>Troubleshooting - See <a href="help.html">Get Help!</a></li>
</ul></li>
</ul>
</div>
<div id="when-we-use-r" class="section level2 unnumbered">
<h2>When we use R</h2>
<ul>
<li>To connect to databases</li>
<li>To read data from websites</li>
<li>To document our work and share methods</li>
<li>When data will have frequent updates</li>
<li>When we want to improve a process over time</li>
</ul>
</div>
<div id="r-is-for-reading" class="section level2 unnumbered">
<h2>R is for reading</h2>
<p><img src="../images/R_recipe.png" style="width: 54%; float: left; margin-right: 28px; margin-left: -16px; margin-top: 9px; margin-bottom: 12px;" /></p>
<p>R let’s us do data analysis in a step-by-step fashion, much like creating a recipe for cookies. And just like a recipe, we can start at the top and read our way down to the bottom.</p>
<p><br></p>
</div>
<div id="how-r-is-different" class="section level2 unnumbered">
<h2>How R is different?</h2>
<p><strong>R vs. Excel</strong></p>
<ul>
<li>R can handle much larger data sets than Excel.</li>
<li>R is more flexible than Excel.</li>
<li>Data processing and analysis are more easily reproducible in R.</li>
<li>Excel is more widely used.</li>
</ul>
<details>
<summary class="btn_code_blue .btn_gray">
<strong>More comparisons &gt;</strong>
</summary>
<div class="note" style="margin-top: -4px;">
<p>
<p><strong>R vs. Tableau</strong></p>
<ul>
<li>Tableau is primarily a data visualization software. Its data analysis capabilities are limited.</li>
<li>R Shiny is more flexible than Tableau.</li>
<li>Tableau’s drag-and-drop interface makes it faster and easier for creating simple visualizations, but is not easily reproducible.</li>
<li>R is 100% text-based so you can track changes over time. <code>#VersionControl</code></li>
</ul>
<p><strong>R vs. SQL</strong></p>
<ul>
<li>SQL is the language of databases.</li>
<li>SQL queries are sent to a database server and processed there before sending you the data. This may be needed for very large data sets that don’t fit on your computer.</li>
<li>R can use SQL queries to pull data from databases / data lakes.</li>
<li>R has the <code>dbplyr</code> package which converts R to an SQL query.</li>
<li>R can read data from almost anywhere (databases, flat files, web pages, etc.)</li>
</ul>
<p><strong>R vs. Python</strong></p>
<ul>
<li>Python is a general-purpose programming language popular for doing internet things. R is more specifically focused on data and statistical analysis.<br />
</li>
<li>R’s Tidyverse is more intuitive and easier to use than <code>pandas</code>.</li>
<li>You can run Python code in R using the R <code>reticulate</code> package.</li>
<li>Historically Python has been used with GIS software like ArcGIS, but more recently doors have opened for R and spatial analysis with R has been growing.</li>
</ul>
<p><strong>R vs. SAS</strong></p>
<ul>
<li>R is open-source, while SAS requires a license.</li>
<li>Anyone can create an R package (but packages on CRAN are vetted). New features for SAS are only available when the SAS team makes them available.</li>
</ul>
</p>
</div>
</details>
<div style="clear: both;">

</div>
<p><br></p>
</div>
<div id="example-r-project" class="section level2 unnumbered">
<h2>Example R project</h2>
<p>Here’s an example R analysis project from start to finish using Ozone monitoring data.</p>
<details>
<summary class="btn_code_blue .btn_gray">
<strong>EXAMPLE ANALYSIS</strong> <strong>&gt;</strong>
</summary>
<div class="quiz" style="margin-top: 0; background-color: white;">
<p>Imagine we just received 3 years worth of ozone monitoring data to summarize. <strong>Fun!</strong></p>
<p>Below is an example workflow we might follow in R.</p>
<ol style="list-style-type: decimal">
<li>Create a new project</li>
<li>Read the data</li>
<li>Simplify columns</li>
<li>Plot the data</li>
<li>Clean the data</li>
<li>View the data closer</li>
<li>Summarize the data</li>
<li>Save the results</li>
<li><strong>Share</strong> with friends</li>
</ol>
<div id="start-a-new-project" class="section level3 unnumbered">
<h3>0. Start a new project</h3>
<p>We’ll name this project: <code>"2019_Ozone"</code></p>
</div>
<div id="read-the-data" class="section level3 unnumbered">
<h3>1. Read the data</h3>
<pre class="r"><code>library(readr)

# Read a file from the web
air_data &lt;- read_csv(&quot;https://itep-r.netlify.com/data/OZONE_samples_demo.csv&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">SITE</th>
<th align="left">Date</th>
<th align="right">OZONE</th>
<th align="right">TEMP_F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="left">2016-04-06</td>
<td align="right">0.018</td>
<td align="right">49.4</td>
</tr>
<tr class="even">
<td align="left">27-137-7554</td>
<td align="left">2017-09-08</td>
<td align="right">13.000</td>
<td align="right">71.6</td>
</tr>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="left">2017-06-10</td>
<td align="right">11.000</td>
<td align="right">71.0</td>
</tr>
<tr class="even">
<td align="left">27-137-7001</td>
<td align="left">2016-05-04</td>
<td align="right">9.000</td>
<td align="right">53.6</td>
</tr>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="left">2017-07-21</td>
<td align="right">27.000</td>
<td align="right">87.8</td>
</tr>
</tbody>
</table>
</div>
<div id="simplify-column-names" class="section level3 unnumbered">
<h3>2. Simplify column names</h3>
<pre class="r"><code>library(janitor)

# Capital letters and spaces make things more difficult
# Let&#39;s clean them out
air_data &lt;- clean_names(air_data)</code></pre>
</div>
<div id="plot-the-data" class="section level3 unnumbered">
<h3>3. Plot the data</h3>
<pre class="r"><code>library(ggplot2)

ggplot(air_data, aes(x = temp_f, y = ozone)) + 
    geom_point(alpha = 0.2) +
    geom_smooth(method = &quot;lm&quot;)</code></pre>
<p><img src="/videos/video-WhyR-slides_files/figure-html/view-1.png" width="1152" /></p>
</div>
<div id="clean-the-data" class="section level3 unnumbered">
<h3>4. Clean the data</h3>
<pre class="r"><code>library(dplyr)

# Drop values out of range
air_data &lt;- air_data %&gt;% filter(ozone &gt; 0, temp_f &lt; 199) 

# Convert all samples to PPB
air_data &lt;- air_data %&gt;% 
            mutate(OZONE = ifelse(units == &quot;PPM&quot;, ozone * 1000, 
                                  ozone)) </code></pre>
</div>
<div id="view-the-data-closer" class="section level3 unnumbered">
<h3>5. View the data <strong>closer</strong></h3>
<pre class="r"><code>ggplot(air_data, aes(x = temp_f, y = ozone)) + 
    geom_point(alpha = 0.2, size = 3) +
    geom_smooth(method = &quot;lm&quot;) + 
    facet_wrap(~site) +
    labs(title = &quot;Ozone increases with temperature&quot;, 
         subtitle = &quot;Observations from 2015-2017&quot;)</code></pre>
<p><img src="/videos/video-WhyR-slides_files/figure-html/unnamed-chunk-1-1.png" width="1152" /></p>
</div>
<div id="summarize-the-data" class="section level3 unnumbered">
<h3>6. Summarize the data</h3>
<pre class="r"><code>air_data &lt;- air_data %&gt;% 
            group_by(site, year) %&gt;% 
            summarize(avg_ozone = mean(ozone) %&gt;% round(2),
                      avg_temp  = mean(temp_f) %&gt;% round(2))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">site</th>
<th align="right">year</th>
<th align="right">avg_ozone</th>
<th align="right">avg_temp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="right">2016</td>
<td align="right">11.01</td>
<td align="right">60.74</td>
</tr>
<tr class="even">
<td align="left">27-137-7001</td>
<td align="right">2017</td>
<td align="right">11.26</td>
<td align="right">60.66</td>
</tr>
<tr class="odd">
<td align="left">27-137-7001</td>
<td align="right">2018</td>
<td align="right">11.54</td>
<td align="right">60.59</td>
</tr>
<tr class="even">
<td align="left">27-137-7554</td>
<td align="right">2016</td>
<td align="right">12.23</td>
<td align="right">61.23</td>
</tr>
<tr class="odd">
<td align="left">27-137-7554</td>
<td align="right">2017</td>
<td align="right">11.81</td>
<td align="right">60.98</td>
</tr>
<tr class="even">
<td align="left">27-137-7554</td>
<td align="right">2018</td>
<td align="right">12.87</td>
<td align="right">61.02</td>
</tr>
</tbody>
</table>
</div>
<div id="save-the-results" class="section level3 unnumbered">
<h3>7. Save the results</h3>
<p><strong>Save the data table</strong></p>
<pre class="r"><code>air_data %&gt;% write_csv(&quot;results/2015_2017_ozone_summary.csv&quot;)</code></pre>
<p><br></p>
<p><strong>Save the site plot to PDF</strong></p>
<pre class="r"><code>ggsave(&quot;results/2015_2017-Ozone vs Temp.pdf&quot;)</code></pre>
</div>
<div id="share-with-friends" class="section level3 unnumbered">
<h3>8. Share with friends</h3>
<p><a href = "https://github.com/dKvale/ex__OZONE__Project">
<img src="../images/github_example_ozone.png" style="width: 95%;" />
</a></p>
<br>
<div class="well">
<p>Having an exact record of your analysis is great documentation for yourself and others. It’s also handy when you want to repeat the same analysis on new data. Then you only need to copy the script, update the read data line, and push run to get a whole new set of fancy charts.</p>
</div>
</div>
</div>
</details>
<p><br></p>
<p><br></p>
<div id="return-to-homebase" class="section level3 unnumbered">
<h3><i class="fa fa-rocket" aria-hidden="true"></i> Return to <a href="../post/day-1.html">Homebase</a></h3>
<p><br></p>
</div>
</div>
</div>
